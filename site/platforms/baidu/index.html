<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>百度 - 股票杠杆平台排行榜单</title>
    <meta name="description" content="百度 平台详情、费用、杠杆比例等信息。">
    <link rel="canonical" href="https://example.com/platforms/baidu/">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {"@type": "ListItem", "position": 1, "name": "首页", "item": "https://example.com/"},
            {"@type": "ListItem", "position": 2, "name": "平台", "item": "https://example.com/platforms/"},
            {"@type": "ListItem", "position": 3, "name": "百度"}
        ]
    }
    </script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" role="navigation">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/">股票杠杆平台排行榜单</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="切换导航菜单">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">首页</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/platforms/">平台</a></li>
                    <li class="nav-item"><a class="nav-link" href="/compare/">对比</a></li>
                    <li class="nav-item"><a class="nav-link" href="/qa/">常见问题</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <nav aria-label="breadcrumb" class="bg-light border-bottom">
        <div class="container">
            <ol class="breadcrumb my-0 py-2">
                <li class="breadcrumb-item"><a href="/">首页</a></li>
                <li class="breadcrumb-item"><a href="/platforms/">平台</a></li>
                <li class="breadcrumb-item active" id="breadcrumb-platform">百度</li>
            </ol>
        </div>
    </nav>

    <main role="main" id="main-content" class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <h1 id="platform-name" class="mb-4">百度</h1>
                    <p id="platform-description" class="lead text-muted mb-5">推荐平台</p>

                    <section class="mb-5">
                        <h2 class="h4 mb-3">平台介绍</h2>
                        <p id="platform-intro">
                            加载中...
                        </p>
                    </section>

                    <section class="mb-5">
                        <h2 class="h4 mb-3">主要特性</h2>
                        <ul class="list-group" id="platform-features">
                            <li class="list-group-item">加载中...</li>
                        </ul>
                    </section>

                    <section class="mb-5">
                        <h2 class="h4 mb-3">交易参数</h2>
                        <div class="table-responsive">
                            <table class="table table-sm">
                                <thead class="table-light">
                                    <tr>
                                        <th>项目</th>
                                        <th>参数</th>
                                    </tr>
                                </thead>
                                <tbody id="platform-params">
                                    <tr><td colspan="2">加载中...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                </div>

                <aside class="col-lg-4">
                    <div class="card shadow-sm sticky-lg-top" style="top: 20px;">
                        <div class="card-header bg-primary text-white">
                            <h3 class="card-title h6 mb-0">快速信息</h3>
                        </div>
                        <div class="card-body">
                            <dl class="row mb-0">
                                <dt class="col-sm-6">评分:</dt>
                                <dd class="col-sm-6" id="platform-rating">★★★★☆</dd>
                                
                                <dt class="col-sm-6">杠杆:</dt>
                                <dd class="col-sm-6" id="platform-leverage">1:100</dd>
                                
                                <dt class="col-sm-6">费率:</dt>
                                <dd class="col-sm-6" id="platform-fee">未公开</dd>
                                
                                <dt class="col-sm-6">安全评级:</dt>
                                <dd class="col-sm-6" id="platform-safety">B</dd>
                                
                                <dt class="col-sm-6">成立年份:</dt>
                                <dd class="col-sm-6" id="platform-founded">2008</dd>
                            </dl>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <footer class="bg-dark text-white py-5 mt-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <h3 class="h6">关于我们</h3>
                    <p class="small text-muted">为投资者提供专业、透明的杠杆平台信息和交易指南。</p>
                </div>
                <div class="col-md-4">
                    <h3 class="h6">快速链接</h3>
                    <ul class="list-unstyled small">
                        <li><a href="/platforms/" class="text-decoration-none text-muted">平台列表</a></li>
                        <li><a href="/compare/" class="text-decoration-none text-muted">平台对比</a></li>
                        <li><a href="/about/" class="text-decoration-none text-muted">关于我们</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h3 class="h6">联系我们</h3>
                    <p class="small text-muted">Email: <a href="mailto:support@example.com" class="text-decoration-none text-muted">support@example.com</a></p>
                </div>
            </div>
            <hr class="border-secondary my-4">
            <p class="text-center small text-muted mb-0">© 2025 股票杠杆平台排行榜单。版权所有。</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/api-client.js"></script>
    <script>
        const PlatformDetail = {
            platformSlug: 'baidu',

            async init() {
                const slug = this.getPlatformSlugFromURL();
                this.platformSlug = slug;
                await this.loadPlatformData();
            },

            getPlatformSlugFromURL() {
                const pathParts = window.location.pathname.split('/').filter(p => p);
                // URL format: /platforms/{slug}/
                return pathParts[1] || 'baidu';
            },

            async loadPlatformData() {
                try {
                    // 从API获取平台数据
                    const response = await apiClient.getPlatforms({ limit: 100 });
                    const platforms = response.data || response.items || response;
                    
                    // 查找匹配的平台
                    const platform = platforms.find(p => 
                        (p.slug || '').toLowerCase() === this.platformSlug.toLowerCase() ||
                        (p.id + '').toLowerCase() === this.platformSlug.toLowerCase()
                    );

                    if (!platform) {
                        this.showNotFound();
                        return;
                    }

                    this.renderPlatformData(platform);
                } catch (error) {
                    console.error('Failed to load platform data:', error);
                    this.showError('加载平台数据失败');
                }
            },

            renderPlatformData(platform) {
                const ratingStars = this.createStars(platform.rating || 0);
                
                // 更新标题和描述
                document.getElementById('platform-name').textContent = platform.name;
                document.getElementById('platform-description').textContent = platform.description || '专业交易平台';
                document.getElementById('breadcrumb-platform').textContent = platform.name;
                document.title = `${platform.name} - 股票杠杆平台排行榜单`;

                // 更新介绍文本
                document.getElementById('platform-intro').textContent = platform.description || '专业交易平台';

                // 更新特性列表
                const features = [
                    `✓ 最高杠杆: 1:${platform.max_leverage || 100}`,
                    `✓ 手续费: ${platform.fee_rate ? platform.fee_rate + '%' : '未公开'}`,
                    `✓ 安全评级: ${platform.safety_rating || 'B'}`,
                    `✓ 成立年份: ${platform.founded_year || '未公开'}`
                ];

                document.getElementById('platform-features').innerHTML = features
                    .map(f => `<li class="list-group-item">${this.escapeHtml(f)}</li>`)
                    .join('');

                // 更新参数表
                const params = [
                    ['最高杠杆', `1:${platform.max_leverage || '未公开'}`],
                    ['手续费', platform.fee_rate ? `${platform.fee_rate}%` : '未公开'],
                    ['最低入金', platform.min_deposit ? `$${platform.min_deposit}` : '未公开'],
                    ['安全评级', platform.safety_rating || 'B'],
                    ['成立年份', platform.founded_year || '未公开']
                ];

                document.getElementById('platform-params').innerHTML = params
                    .map(([key, val]) => `<tr><td>${this.escapeHtml(key)}</td><td>${this.escapeHtml(val)}</td></tr>`)
                    .join('');

                // 更新右侧快速信息
                document.getElementById('platform-rating').textContent = ratingStars + ` (${(platform.rating || 0).toFixed(1)})`;
                document.getElementById('platform-leverage').textContent = `1:${platform.max_leverage || '未公开'}`;
                document.getElementById('platform-fee').textContent = platform.fee_rate ? `${platform.fee_rate}%` : '未公开';
                document.getElementById('platform-safety').textContent = platform.safety_rating || 'B';
                document.getElementById('platform-founded').textContent = platform.founded_year || '未公开';
            },

            createStars(rating) {
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 >= 0.5;
                let stars = '';

                for (let i = 0; i < 5; i++) {
                    if (i < fullStars) {
                        stars += '★';
                    } else if (i === fullStars && hasHalfStar) {
                        stars += '◆';
                    } else {
                        stars += '☆';
                    }
                }

                return stars;
            },

            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            },

            showNotFound() {
                document.getElementById('main-content').innerHTML = `
                    <div class="container py-5 text-center">
                        <h1 class="display-1">404</h1>
                        <p class="lead">抱歉，找不到该平台</p>
                        <a href="/platforms/" class="btn btn-primary">返回平台列表</a>
                    </div>
                `;
            },

            showError(message) {
                document.getElementById('main-content').innerHTML = `
                    <div class="container py-5">
                        <div class="alert alert-danger">${this.escapeHtml(message)}</div>
                        <a href="/platforms/" class="btn btn-primary">返回平台列表</a>
                    </div>
                `;
            }
        };

        document.addEventListener('DOMContentLoaded', () => PlatformDetail.init());
    </script>
</body>
</html>
