<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Primary Meta Tags -->
    <title>常见问题 - 鹰眼查融</title>
    <meta name="title" content="常见问题 - 鹰眼查融">
    <meta name="description" content="关于融资融券、股票杠杆、平台选择、风险评估的常见问题及解答。">
    <meta name="keywords" content="常见问题,FAQ,融资融券,股票杠杆,两融">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="常见问题 - 鹰眼查融">
    <meta property="og:description" content="关于融资融券、股票杠杆、平台选择、风险评估的常见问题及解答。">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://www.yycr.net/qa/">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">
    
    <!-- JSON-LD: FAQPage Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "什么是股票杠杆交易？",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "股票杠杆交易是指投资者向券商借入资金进行股票交易，以较小的本金控制较大的交易金额，以期放大收益。同时风险也会相应放大。"
                }
            },
            {
                "@type": "Question",
                "name": "杠杆交易的风险有哪些？",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "主要风险包括：保证金追加风险、爆仓风险、利息风险、政策风险等。建议充分了解风险后再参与。"
                }
            }
        ]
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "首页",
                "item": "https://www.yycr.net/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "常见问题",
                "item": "https://www.yycr.net/qa/"
            }
        ]
    }
    </script>
</head>
<body>
    <!-- Navigation -->
    <header role="banner">
        <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" role="navigation" aria-label="主导航">
            <div class="container">
                <a class="navbar-brand fw-bold" href="/" aria-label="鹰眼查融首页">
                    <img src="/assets/images/logo.png" alt="鹰眼查融" class="navbar-logo">
                    <span>鹰眼</span><span class="d-none d-sm-inline">查融</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="切换导航菜单">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="/">首页</a></li>
                        <li class="nav-item"><a class="nav-link" href="/margin/">两融</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/platforms/">平台</a></li>
                        <li class="nav-item"><a class="nav-link" href="/compare/">对比</a></li>
                        <li class="nav-item"><a class="nav-link active" aria-current="page" href="/qa/">常见问题</a></li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarResources" role="button" data-bs-toggle="dropdown" aria-expanded="false">资源</a>
                            <ul class="dropdown-menu" aria-labelledby="navbarResources">
                                <li><a class="dropdown-item" href="/wiki/">百科</a></li>
                                <li><a class="dropdown-item" href="/guides/">指南</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="/about/">关于</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb" class="d-none d-md-block bg-light border-bottom py-2">
        <div class="container">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="/">首页</a></li>
                <li class="breadcrumb-item active" aria-current="page">常见问题</li>
            </ol>
        </div>
    </nav>

    <!-- Main Content -->
    <main role="main" id="main-content" class="py-5">
        <div class="container">
            <h1 class="mb-4">常见问题</h1>
            <p class="lead text-muted mb-5">
                关于股票杠杆交易、平台选择、风险管理的常见问题及解答
            </p>

            <!-- FAQ列表 - 动态加载或显示默认内容 -->
            <div id="faqList" class="faq-list">
                <!-- 动态加载的FAQ列表 -->
                <div id="faqListGroup" class="list-group">
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">什么是股票杠杆交易？</h2>
                            <p class="mb-0 small text-muted">了解股票杠杆交易的基本概念和运作方式</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">杠杆交易的风险有哪些？</h2>
                            <p class="mb-0 small text-muted">保证金追加、爆仓、利息、政策等风险说明</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">如何选择合适的杠杆倍数？</h2>
                            <p class="mb-0 small text-muted">根据风险承受能力选择杠杆的建议</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">什么是保证金追加（Margin Call）？</h2>
                            <p class="mb-0 small text-muted">了解保证金追加机制和应对方法</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">如何避免爆仓？</h2>
                            <p class="mb-0 small text-muted">控制杠杆、设置止损等风险管理技巧</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">各平台的费用如何比较？</h2>
                            <p class="mb-0 small text-muted">手续费、利息费、撤资费等费用对比</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">新手应该如何开始？</h2>
                            <p class="mb-0 small text-muted">新手入门指南和学习建议</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">如何设置止损和止盈？</h2>
                            <p class="mb-0 small text-muted">交易策略和风险控制价位设置</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">平台是否安全可靠？</h2>
                            <p class="mb-0 small text-muted">如何判断平台的安全性和可靠性</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="h6 mb-1">杠杆交易需要缴税吗？</h2>
                            <p class="mb-0 small text-muted">税务相关问题说明</p>
                        </div>
                        <span class="text-muted">→</span>
                    </a>
                </div>
                <!-- 加载更多按钮 -->
                <div id="loadMoreContainer" class="text-center mt-4" style="display: none;">
                    <button id="loadMoreBtn" class="btn btn-outline-primary">
                        加载更多
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5 mt-5" role="contentinfo">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <h3 class="h6 mb-3">关于我们</h3>
                    <p class="small text-muted">为投资者提供专业、透明的杠杆平台信息和交易指南。</p>
                </div>
                <div class="col-md-4">
                    <h3 class="h6 mb-3">快速链接</h3>
                    <ul class="list-unstyled small">
                        <li><a href="/about/" class="text-decoration-none text-muted">关于我们</a></li>
                        <li><a href="/legal/" class="text-decoration-none text-muted">法律声明</a></li>
                        <li><a href="/qa/" class="text-decoration-none text-muted">常见问题</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h3 class="h6 mb-3">联系我们</h3>
                    <p class="small text-muted mb-0">
                        Email: <a href="mailto:support@yycr.net" class="text-decoration-none text-muted">support@yycr.net</a>
                    </p>
                </div>
            </div>
            <hr class="border-secondary my-4">
            <div class="text-center small text-muted">
                <p>© 2025 上海薏雅征信。版权所有。</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/main.js" defer></script>
    
    <script>
        /**
         * FAQ分页加载管理
         */
        const FAQ_PAGE_SIZE = 10; // 每次加载10条
        let faqCurrentPage = 0;   // 当前页码 (从0开始)
        let faqHasMore = true;    // 是否还有更多
        let faqIsLoading = false; // 是否正在加载
        
        /**
         * 动态加载常见问题栏目的文章
         * 支持分页加载更多
         */
        async function loadQAArticles(append = false) {
            if (faqIsLoading || (!faqHasMore && append)) return;
            
            faqIsLoading = true;
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            if (loadMoreBtn && append) {
                loadMoreBtn.textContent = '加载中...';
                loadMoreBtn.disabled = true;
            }
            
            try {
                const API_URL = location.origin.replace(/\/$/, '');
                const skip = faqCurrentPage * FAQ_PAGE_SIZE;
                
                // 获取"常见问题"栏目的文章 (分页)
                const response = await fetch(`${API_URL}/api/articles/by-section/faq?limit=${FAQ_PAGE_SIZE}&skip=${skip}`, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                if (!response.ok) {
                    console.warn('加载常见问题栏目文章失败');
                    faqIsLoading = false;
                    return;
                }
                
                const articles = await response.json();
                
                // 判断是否还有更多
                if (!Array.isArray(articles) || articles.length < FAQ_PAGE_SIZE) {
                    faqHasMore = false;
                }
                
                if (articles.length === 0) {
                    if (!append) {
                        console.warn('未找到常见问题栏目的文章');
                    }
                    updateLoadMoreButton();
                    faqIsLoading = false;
                    return;
                }
                
                // 获取FAQ列表容器
                const listGroup = document.getElementById('faqListGroup');
                if (!listGroup) {
                    console.error('找不到FAQ列表容器');
                    faqIsLoading = false;
                    return;
                }
                
                // 如果是首次加载，清空默认内容
                if (!append) {
                    listGroup.innerHTML = '';
                }
                
                // 生成列表项
                articles.forEach((article) => {
                    const listItem = document.createElement('a');
                    listItem.href = `/article/${article.slug}`;
                    listItem.className = 'list-group-item list-group-item-action d-flex justify-content-between align-items-center';
                    
                    // 获取摘要文本
                    const summary = article.summary || (article.content ? article.content.substring(0, 80) + '...' : '');
                    
                    listItem.innerHTML = `
                        <div>
                            <h2 class="h6 mb-1">${escapeHtml(article.title)}</h2>
                            <p class="mb-0 small text-muted">${escapeHtml(summary)}</p>
                        </div>
                        <span class="text-muted">→</span>
                    `;
                    
                    listGroup.appendChild(listItem);
                });
                
                // 更新页码
                faqCurrentPage++;
                
                // 更新"加载更多"按钮状态
                updateLoadMoreButton();
                
                console.log(`✅ 成功加载 ${articles.length} 篇FAQ (第${faqCurrentPage}页, 共${listGroup.children.length}篇)`);
                
            } catch (error) {
                console.error('加载常见问题文章时发生错误:', error);
            } finally {
                faqIsLoading = false;
                if (loadMoreBtn) {
                    loadMoreBtn.textContent = '加载更多';
                    loadMoreBtn.disabled = false;
                }
            }
        }
        
        /**
         * 更新"加载更多"按钮的显示状态
         */
        function updateLoadMoreButton() {
            const container = document.getElementById('loadMoreContainer');
            if (container) {
                container.style.display = faqHasMore ? 'block' : 'none';
            }
        }
        
        /**
         * HTML转义函数 - 防止XSS攻击
         */
        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        /**
         * 初始化
         */
        function initFAQ() {
            // 首次加载
            loadQAArticles(false);
            
            // 绑定"加载更多"按钮事件
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            if (loadMoreBtn) {
                loadMoreBtn.addEventListener('click', () => loadQAArticles(true));
            }
        }
        
        // 页面加载完成后初始化
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initFAQ);
        } else {
            initFAQ();
        }
    </script>
    <!-- Site Settings Loader -->
    <script src="/assets/js/site-settings.js" defer></script>
</body>
</html>
