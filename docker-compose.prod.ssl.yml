# Docker Compose SSL Override for Production
# 
# Usage (after setting up SSL certificates):
#   docker-compose -f docker-compose.prod.yml -f docker-compose.prod.ssl.yml up -d
#
# Prerequisites:
#   1. SSL certificates in ./certs/ directory:
#      - fullchain.pem (certificate chain)
#      - privkey.pem (private key)
#   2. Obtain certificates via Let's Encrypt:
#      certbot certonly --standalone -d yycr.net -d www.yycr.net
#      cp /etc/letsencrypt/live/yycr.net/fullchain.pem ./certs/
#      cp /etc/letsencrypt/live/yycr.net/privkey.pem ./certs/
#      chmod 644 ./certs/fullchain.pem && chmod 600 ./certs/privkey.pem

version: '3.8'

services:
  frontend:
    volumes:
      # Override: Use SSL-enabled nginx config
      - ./nginx/ssl.conf:/etc/nginx/conf.d/default.conf:ro
      # Security headers (required by location blocks)
      - ./nginx/security-headers.conf:/etc/nginx/conf.d/security-headers.conf:ro
      # Mount SSL certificates
      - ./certs:/etc/nginx/certs:ro

